<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1 plus MathML 2.0//EN"
      "http://www.w3.org/Math/DTD/mathml2/xhtml-math11-f.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="content-type" content="text/html; charset=iso-8859-1" />
  <title>Tutorial do Software Pulga</title>
  <meta name="generator" content="amaya 9.3, see http://www.w3.org/Amaya/" />
</head>

<body>
<h1 style="color: #000000; background-color: #7DA6CB">Pulga - a free software
for iteration</h1>

<p></p>

<h2 style="color: #000000; background-color: #7DA6CB">1.    Introduction</h2>

<p>"Pulga" is the word in portuguese that means "flea". Pulga is an open
source software created with the purpose of performing and visualizing
iterations of any kind, mostly with few variables (although future versions
should deal with iterations of long arrays and matrices). As it is written in
Java, it works on any platform, requiring only previous installation of Java
5.</p>

<p>Pulga allows one to creating his/her own iteration formula by simply
typing it in one window, avoiding the (often) tedious work of writting,
compiling and executing code each time a minor modification is done. The same
is valid for parameters of the formula, that can be modified
interactively.</p>

<p>During the execution, the software constructs a Java code, using the data
supplied by the user, and run this code. Therefore Pulga is basically an
interface that lets the task of creating and modifying code (for iterations)
be automatic.</p>

<p>This method of doing things has deep consequences on the range of
applicability of the software. For example, often we deal with iterations
given by complicated or long expressions, or even with iterations that, at
each step, need an algorithm to determine the next point, not just an
expression. As the software ultimately glues the parts of the code, these
algorithms can be also implemented interactively. The user must know only the
basics of Java language, i.e. only that set of instructions that is almost
equal to any other programming language (these instructions may be found
on-line; they include, among others, the Math class). Of course having
advanced skills on Java programming allows a more efficient exploration of
the software flexibility.</p>

<p>Possible applications are:</p>
<ol>
  <li>easy implementation of iteration methods for numerical solutions of
    ordinary differential equations - the software does not provide them
    automatically, this is completely left to the user;</li>
  <li>implementation of subroutines like estimating an integral or a root of
    a function by numerical methods;</li>
  <li>implementation of decision trees (with "ifs" and "elses"), even with
    random criteria, for example when doing fractal constructions;</li>
  <li>so on</li>
</ol>

<p>The user's interface comes also with a number of facilities related to the
<em>visualization</em> of the iterations. Among them:</p>
<ol>
  <li>scaling, choice of variables to be ploted and range of plot;</li>
  <li>color of the points, of the background and of the grid lines;</li>
  <li>number of iterations, number of trash points (those thrown away at the
    beginning);</li>
  <li>dimensions of the image in pixels and forced proportionality.</li>
</ol>

<p>The user may also choose whether she/he wants to define an initial
condition by typing it or by clicking with the mouse on the screen. Or else
whether she/he wants to draw the new iteration over the previous one.</p>

<p>Notwithstanding, although all these features are already very nice, other
facilities are offered via a collection of plugins. The plugins, which may be
activated or inactivated at will, provide additional features. These features
vary from slight modifications in the visualization, e.g. the plugin that
connects the points with lines, the plugin that allows color interchange
after a certain number of iterations, the plugin that activates initial
conditions with the mouse click, etc, to more involved contributions, like
drawing bifurcation diagrams and basins of attraction.</p>

<p>All the settings at a given instant may be saved in a file, with extension
"itr", which is an XML file, hence "understandable" even without the
software. Points of an iteration may be exported, as well as any image
generated by the program.</p>

<p>Further details will be given in the tutorial, whose explanations are
always given together with the discussion of examples. The particular meaning
of a function of the menu may be easily found with the searching machines of
your browser, in this page.</p>

<p></p>

<h2 style="color: #000000; background-color: #7DA6CB">2.    Tutorial</h2>

<h3 style="color: #000000; background-color: #7DA6CB">2.1.    Running
Pulga</h3>

<p>First, be sure that your computer system has Java 5 installed. If this is
not the case, go to <a
href="http://www.java.com/en/">http://www.java.com/en/</a> and follow the
instructions therein. Then download Pulga: it is a file with extension "jar",
independent of your operational system, and ready to run. In the Windows
system, just two-times click on the icon. For Linux systems, write "java -jar
pulga-1.1.jar" in the command line.</p>

<p>Even Windows users may activate the program in the command line, in the
same way as for Linux and other platforms. Writing "java -jar pulga-1.1.jar
-d" makes the program running in debug mode (but there is also a button in
the toolbar that allows activating debug info on the fly.</p>

<p>If one wants memory consuming but faster performance, we suggest typing
"java -server -jar pulga-1.1.jar".</p>

<p></p>

<h3 style="color: #000000; background-color: #7DA6CB">2.2.    Basic settings
of an iteration</h3>

<p>We introduce the reader into the basics of Pulga taking as an example the
famous Hénon map, given by</p>

<p style="text-align: center"><math
xmlns="http://www.w3.org/1998/Math/MathML"
style="margin-left: auto; margin-right: auto">
  <mrow>
    <mo>(</mo>
    <mi>x</mi>
    <mo>,</mo>
    <mi>y</mi>
    <mo>)</mo>
  </mrow>
</math> &RightTeeArrow; <math xmlns="http://www.w3.org/1998/Math/MathML"
style="margin-left: auto; margin-right: auto">
  <mrow>
    <mo>(</mo>
    <mn>1</mn>
    <mo>&minus;</mo>
    <mi>a</mi>
    <msup>
      <mi>x</mi>
      <mn>2</mn>
    </msup>
    <msup>
      <mrow>
        <mo>+</mo>
        <mi fontstyle="italic">by</mi>
        <mo>,</mo>
        <mi>x</mi>
      </mrow>
    </msup>
    <mo>)</mo>
  </mrow>
</math>,</p>

<p>where <em>a</em> and <em>b</em> are parameters to be chosen
<em>before</em> the iterations start.</p>

<h4>2.2.1.    Basic informations</h4>

<p>Before starting, the user may fill the basic informations, going to
"Edit_Basic Informations". This includes the title of the work (nothing to do
with the name of the file where the settings will be saved), the authors and
an abstract of its contents.</p>

<h4>2.2.2.    Dimension</h4>

<p>As the software needs to know how much variables the iteration has (in
order to declare them), this might be informed by the user. Go to
"Edit_Dimension" and set this number to 2 (one for <em>x</em> and one for
<em>y</em>). When Pulga starts, this is the default value, so in fact you
will not need to change it for this example.</p>

<p>The iteration variables have, by default, the names x1, x2, x3 etc. Then
we translate our names: <em>x</em> will be x1 and <em>y</em> will be x2.
There will be no automatic declaration of x3, x4 etc, since the dimension has
been chosen equal to 2.</p>

<p><span style="font-weight: bold">Remark.</span> You can choose another
dimension at any moment. This will perhaps force you to close and open again
some of the windows in order to correctly display the new settings, since the
dimension affects the menu bars of some of the windows. At this moment, this
is not the case if you are following these intructions step by step.</p>

<h4>2.2.3.    Iteration formula, starting conditions and parameters</h4>

<p>Now it is time to supply the iteration formula, the parameters and the
starting conditions. Go to "Edit_Formula, parameters and initial conditions"
and set 0.0 for both x1 and x2 (these are the initial conditions). Then write
"1 - a*x1*x1 + b*x2" (without the " ", of course) in the field of x1, and
"x1" in the field of x2 (spaces are indifferent, it works like writing a
program in a text editor, but do not put any punctuation sign at the end of
the sentence). Create new parameters with names "a" and "b" and put,
respectively, the values 1.4 and 0.3. It may be confortable to keep open this
window. This is because later you may want to check the influence of the
initial conditions and the parameters in the final result.</p>

<h4>2.2.4.    Visualization</h4>

<p>Visualization is the next step. Go to "Edit_Iterations and axes" and keep
this windows open. You will see some default values that work well for the
Hénon map, hence you do not need to change them for the while. This is only
to show you that the software is not "magic": it needs your information about
what to do when drawing iterations. For other formulas these values can be
useful or not: it's up to you changing them accordingly.</p>

<p>Now press the "Redraw" button on the toolbar. This will cause the software
to create (behind the scene) a Java code with the information given, then
iterate and plot the points in the screen. The points are ploted
<em>after</em> the iteration is complete. You will see something like
that:</p>

<p></p>

<p style="text-align: center"><img alt="Iterations of the Hénon map"
src="../../Henon.png" /></p>

<p></p>

<p><span style="font-weight: bold">Remark.</span> It must be clear that the
software does not plot "points", in their exact coordinates. It plots the
pixels that were visited by some point of the orbit.</p>

<p>Sometimes to the beginners the image above seems not a set of points, but
an intricated set of lines. This sensation is related to the underlining
structure of the set on which the points accumulate. In this specific case,
it is a "strange" or "chaotic attractor", although for the mathematicians,
with these parameters, this is still a conjecture.</p>

<p>Dealing with the visualization settings will make the user understand a
little bit more about this set. We will explore one by one a great part of
the software functionalities with this single example. Therefore keep open
the window at "Edit_Iterations and axes".</p>

<p><span style="font-weight: bold">Trash points.</span> This is the number of
iterations done at the beginning that are not ploted. If Trash=20 this means
that only iterations from the 20th on are ploted. The reason is that often we
are only interested in the asymptotic behavior of the iterations: doing this
one discards the transient behavior. With Trash=0 the orbit is shown from the
starting conditions on. Try with the Hénon map and you will see some "lost"
points outside the attracting set. On the other hand, try bigger than 100
values of the Trash and you will see that it makes no difference betweem
them: this is because the orbits rapidly get close to the attractor. <em>The
size of the Trash must be chosen carefully by the user accordingly to each
case.</em>Attention: the first point to be trashed is the actual starting condition!</p>

<p><span style="font-weight: bold">Iterations.</span> This is the number of
iterations done <em>after</em> the trash points, corresponding to those that
will be ploted. With the Hénon map, try Iterations=200 and then
Iterations=10000 and see the difference. Therefore be careful with your
conclusions about the geometry of the attracting set!</p>

<p></p>

<p>Now, before changing the settings of "Axes and scales", open the window at
"Edit_Appearance". There you will see that the sizes of the window,
<strong>width</strong> and <strong>height</strong>, counted in pixels, may be
changed at will (a scroll bar appears if the size is greater than the maximum
size of your screen). You may also change the <strong>Background
color</strong> (that is black, by default). <strong>Clear before drawing the
next result</strong> allows you to choose whether you want to superpose two
or more drawings, or not. <strong>Show grid</strong>, when activated, draws
also a grid with scale numbers in both axes. The <strong>Grid color</strong>
may be chosen at will.</p>

<p></p>

<p><strong>Axes and scales.</strong> Pulga has great flexibility about what
is to be ploted. In the same window, you may choose any other pair of
variables to be ploted, in the order you wish (in this example, we have only
two, so there is little room for choice). Try inverting x1 with x2, that is,
put x2 in the horizontal axis and x1 in the vertical axis. Also try x1 in
both axes: you will see all points over the diagonal.</p>

<p><em>It does not work in version 1.1:</em> setting things other than
variables to be ploted. The choice "iteration" would be the number of the
iterate, but it is not yet implemented.</p>

<p>Now return to the original configuration, with x1 in the horizontal axis
and x2 in the vertical axis, activate "Show grid", put Trash=100,
Iterations=10000 and redraw. If you want to better visualize a piece of the
figure, you can change the scales in the axes. For example, put 0.3 to 0.9 in
both axes (instead of -1.5 to 1.5). Look at the screen and see the piece that
you are going to zoom in and then redraw. If you have already played with the
number Iterations, you may find reasonable to increase this number. Try
Iterations=100000 and Iterations=1000000. Now you see more clearly a
structure of curves, but if it is still not that clear try to better
understand this structure, with the same method (for example, the next zoom
can be with 0.6 to 0.7 in the horizontal axis and 0.54 to 0.66 in the
vertical axis). Is there an end?</p>

<p><em>A simpler but not completely analogous method of magnification will be
explained below, with the ZoomPlugin.</em></p>

<p></p>

<p>A final comment about forgoten features related to visualization:</p>

<p><strong>Width, height and proportional plot.</strong> As you have seen,
the drawing sizes are set, by default, to 800x600, in pixels. But in the
drawing, each axis must respect the values asigned in "Axes and scales",
causing the result to be out of proportion. For example, setting the Hénon
map with -1.5 to 1.5 in both variables gives 3 units to 800 pixels in the
horizontal and 3 units to 600 pixels in the vertical, and this vertically
squeezes the image. In this case, everything would be solved if one changed
the height to 800 pixels, for example (try it).</p>

<p>But it is not always true that the region of interest is a square. For
example, we suggested above 0.6 to 0.7 in the horizontal axis and 0.54 to
0.66 in the vertical axis. This is a rectangle of 0.1 by 0.12. We could now
calculate the number of pixels of each axis in order to keep this proportion,
but this quickly becomes a tedious task if one does it many times.</p>

<p>Our solution is the following. You put your scale in each axis and the
width and height in pixels, even with proportions in disagreement. It doesn't
matter: go to "Edit_Proportional plot". The software automatically resets
either width or height in order that axes scales and the plot be in the same
proportion (moreover, the rule is: one of width or height is kept fixed and
the other grows). Then redraw and you will see the figure in the correct
proportions.</p>

<p>Pay attention that when you change the axes scales the sizes in pixels
remain unaffected. Each time you change them you have to go to
"Edit_Proportional plot" to reset the sizes. Another remark is that if the
window "Appearance" is kept open while activating "Proportional plot" then
the new values of width and height are not shown. In order to see them, close
and open again this window.</p>

<p><strong>Iteration power.</strong> Setting this number to <em>n</em> will
make the program plot only iterations which are multiples of <em>n.</em>In
other words, the program considers as one iteration the <em>n</em>-th power
of the map. For the Hénon map, with these parameters, the drawing is not
affected. But change the parameters to a=1.2 and b=0.2 and try with even and
odd values of <em>n</em>. What is the difference? What does it mean?</p>

<p><strong>Plot colors.</strong> We did not say a word about how to change
the color of the iterations. In future versions, they will be in the window
"Appearance", but for the while we offer another solution. Go to
"Plugins_Activate and deactivate plugins" (there is also a button in the
toolbar that does the same thing). Activate "ColorPlugin" and close the
window. Now go to "Plugins_Advanced color_Config". There you may choose a
"color list", either by writing RGB values between 0 and 255, or by selecting
them with an interative window. You also choose the number of iterations to
change between successive colors of the list. For example, if you want 400
iterations in red and then 200 iterations in blue, you do the list</p>

<p>255,0,0</p>

<p>255,0,0</p>

<p>0,0,255</p>

<p>and put 200 as the number of iterations. Another example: if you just want
a single color to be ploted, do a list of just one color and set 1 as the
number of iterations (or any number).</p>

<p>As an exercise to see the utility of this feature, use the parameters
a=1.2 and b=0.2, with Iteration power = 1, make a list of only two colors and
set 1 as the number of iterations to change colors. That is, at each
iteration the program will change the color between the two of the list. What
happens?</p>

<p></p>

<h3 style="color: #000000; background-color: #7DA6CB">2.3.    Other
visualization facilities</h3>

<h4>2.3.1.    Starting conditions</h4>

<p>Other visualization facilities are available throughout the toolbar and
the menus. They will be better illustrated if we change the values of the
parameters <em>a</em> and <em>b</em> of the iteration, exploring a little bit
more the Hénon family of maps. Fix Trash=1000, Iterations=5000, Iteration
power = 1, horizontal and vertical axes from -2.0 to 2.0, a<em></em>=0.96 and
b=0.5 and confirm that the starting conditions of x1 and x2 are still set to
0.0. Put black for background color and strong yellow for points: this is to
better showing the results and individual points. Press Redraw and see the
result on the screen. If nothing goes wrong, you will see an attracting set
composed of four pieces. Each one of the pieces resembles more or less the
attracting set of a=1.4 and b=0.3. Now change the starting conditions to
x1=0.75 and x2=0.4. Press Redraw again and observe the result. Now you will
just see eight points.</p>

<p>This simple experiment illustrates the fact that the accumulating set of
the iterations may be different accordingly to the starting conditions. Try
other values for the starting conditions and see what happens.</p>

<p>Well, if you actually tried to do it, probably you have realized how
tedious is the work of rewriting the starting conditions, even if the window
"Edit_Formula, parameters and initial conditions" has been kept open. To
solve this problem press the "Initial condition" button at the toolbar and
click with the left button of the mouse at some point of the visualization
screen. This action sets the starting conditions to the values given by the
position of the mouse and immediately activates Redraw, showing the
iterations. If you want to change the starting conditions, it is enough to
click at another position.</p>

<p>Be aware, however, that the starting conditions are internal variables,
accessible either by the window "Edit_Formula, parameters and initial
conditions" or by the click of the mouse. For example, if at this moment you
press Redraw then the iterations are redone with the last values assigned for
the starting conditions, in this case those given by the last click of the
mouse on the screen (close and open again the window "Edit_Formula,
parameters and initial conditions": you will remark that the values of the
starting conditions have been changed).</p>

<p>If you want to see the two attracting sets at the same time, just disable
"Clear before drawing the next result". Then the previous iteration is not
erased and with few trials you may have both on the screen. If you want to
see them with different colors, then change the color of the plot with
Advanced color between the drawings (there is some risk with this operation:
if the new starting condition leads to the same attracting set then the new
color will be superposed to the former).</p>

<p></p>

<h4><strong>2.3.2.    Show point</strong></h4>

<p>In the toolbar, the button "Show point" allows you to click on the screen
and see the coordinates of the point. This cannot be made precise, because of
the pixel division (which is the smallest division of the screen), but
sometimes is very useful.</p>

<h4>2.3.3.    Connecting points</h4>

<p>Set x1=0.75 and x2=0.4 as starting conditions with the parameter values
a=0.96 and b=0.5 (and other settings according to the previous paragraph). We
have seen that the attracting set is a set of eight points. In the language
of dynamical systems, it is a <em>periodic orbit of period eight</em>. The
map sends each one of these points into another one, forming a cycle. How can
we visualize the internal order of the cycle?</p>

<p>Go to "Plugins_Activate and deactivate plugins", activate
"ConnectPointsPlugin", close the window and press Redraw. The plugin not only
draws the iterations but join them with a straight line. Now we know, for
each one of the eight points, who are the other two points coming just before
and just after it, although we do not know who comes before and who comes
next.</p>

<p>The solution is the following: without erasing the figure, set Trash
points=0, Iterations=1 and activate the button "Initial condition". Activate
"Clear before drawing the next result". Then click over one of the points in
the periodic orbit. You will see a segment of straight line joining the point
of the click and the next iterate. Now you know which point is the next in
the cycle, but unfortunately you lost the drawing of the other points. You
can now deactivate "Clear before drawing the next result" and click on the
second point (the other end of the segment). A new segment appears and you do
the same thing, clicking on the other end of each new segment, until the
cycle is closed (or almost closed, due to the errors when clicking over the
ends of the segments).</p>

<h4>2.3.4.    Zoom</h4>

<p>With the parameters a=0.96 and b=0.5, set the starting conditions to
x1=0.0 and x2=0.0. Activate the ZoomPlugin going to "Plugins_Activate and
deactivate plugins". Press the button "Zoom" in the toolbar. Choose a
rectangular region of the drawing by clicking onto two opposite corners of
the desired rectangle. Immediately after releasing the left button of the
mouse from the second corner the image will be resized (without changing
width and height) accordingly.</p>

<p>This operation may be done recursively, but one has to pay attention to
things that work and things that do not work. For example, one may change any
setting in the "Appearance" window and then Redraw: the new scale remains
unchanged. One may also change (a little bit) the parameters and Redraw,
without any problem. However, changing the number of iterations (or any
setting of the same window) resets the screen to the original scale of the
drawing. Hence it is important to start with a huge number of iterations
before doing lots of magnifications with the Zoom button.</p>

<p>On the other hand, activating "Show grid" allows one to choose scales and
write them in the window "Iterations and axes".</p>

<h4>2.3.5.    Clear the window now</h4>

<p>Almost nothing to say about this button of the toolbar. This is particular
useful when you keep "Clear the window before drawing the next result"
deactivated and has to manually erase your figure.</p>

<p></p>

<h3 style="color: #000000; background-color: #7DA6CB">2.4.   Files</h3>

<p></p>

<h4>2.4.1.  Saving files</h4>

<p>One of the most important facilities of Pulga is the possibility of saving
the settings. Pulga saves an xml file under the extension "itr" which
contains all the information provided by the user, including settings like
scales, colors etc. Try to do it now, just after the last thing you did when
reading the previous section.</p>

<p></p>

<h4>2.4.2. Loading files</h4>

<p>Export image</p>

<p>Export points</p>
</body>
</html>
